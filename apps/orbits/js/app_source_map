{"version":3,"file":"app.min.js","sources":["app.js"],"names":["Backbone","ROComputedModel","Model","extend","get","attr","undefined","this","attributes","_","isFunction","Mission","defaults","completed","elapsed","elementsf","stars","lastPlayed","name","trialDurations","trialStars","trialActions","trialDates","trialData","toJSON","pick","keys","MissionCollection","Collection","model","TYPE_STAR","TYPE_PLANET","TYPE_STAR_FIXED","TYPE_PLANET_FIXED","TYPE_HALO","App","currentMission","state","PAUSED","showOrbit","userStartTime","Date","userEndTime","nplanets","time","deltat","dt","bodyTypes","position","velocity","masses","defaultMass","missions","interactive","invalid","collided","physicalSizes","selectedPlanet","starsEarned","maxAU","minAU","musicVolume","effectsVolume","saveKeys","components","flags","resetFlags","toggleState","RUNNING","set","console","warn","sync","Error","addPlanet","x","options","ensureConstraints","types","push","type","v","Math","sqrt","K2","circular","r","ctx","elements","ensureConstraintsForBody","trigger","Physics","barycenter","length","setPositionForBody","i","NPHYS","X","Y","Z","positionForBody","typeForBody","forceForBody","body","power","f","N","app","bodyX","bodyY","bodyZ","y","z","M","d","d3","pow","constraints","mission","ready","changed","pos","vel","direction","vn","_m","norm","xn","speed","Units","RUNIT","TUNIT","setVelocityForBody","bary","tick","MENU","t","SPEED","min","steps","rem","j","leapfrog","dx","dy","dz","planet","update","np","Mstar","twoD","du","dv","dw","x2el","win","at","elapsedTime","max","saveMissionData","lose","setMission","self","isString","find","m","idx","reset","missionObj","sounds","playMusic","bodies","each","eval","menu","secondsOnly","endTime","seconds","round","getTime","minutes","floor","starsFormula","starsEarnedTotal","reduce","memo","currentHelp","component","stopListening","loadConfig","dict","coll","starsBounty","add","loadMissionData","defer","$","done","allData","trim","data","JSON","parse","log","missionsData","saveData","which","where","error","value","key","delay","dataDict","stringify","earned_stars","post","resetMissionData","location","reload","isNumber","l","animateUntil","event","cancel","wait","listener","Events","stop","listenTo","off","f2","requestAnimationFrame","getHumanInfoForBody","distance","toFixed","initialize","ROTATABLE","AppView","View","el","events","click #menu","toggleClass","click #help","renderMission","click #practice","click #reset","click #missions","click #dashboard","href","click #sizes","click #zoom-in","draw","setZoom","zoom","click #zoom-out","click #zoom","addClass","removeClass","click #zoom-close","throttle","renderInfo","setVisibility","renderWin","renderLose","validateTimer","clearTimeout","bind","validate","missionTemplate","template","missionDelay","topHideTimer","renderTopText","text","hide","html","current","els","info","css","color","show","canvasMouseDown","e","clearInterval","winTemplate","defaultEncouragement","winDelayMax","approxFrameRate","winDelay","isNaN","period","templates","starsRepr","loseTemplate","auxToolbar","MissionHelpModel","proceed","destroy","setup","h","shown","on","jon","MessageView","messagesSetup","listenToOnce","setupTemplates","render","setupMessages","id","help","plainText","txt","replace","helpText","message","lastHelp","showOnce","funcs","script","$el","nextMission","mainView","AppModalView","animate","size","renderLoading","renderLoad","frame","loadingMessage","map","world","document","APP_CFG","Templates","messageView","menuView","AppMenuView","modalView","settings","AppSettings","SoundEngine","once","parameter"],"mappings":"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"}